"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t,n){function o(e){function t(e){var o=t.resolve(e);if(t.cache[o]){var r=t.cache[o];return r.executed||r.execute(),r.exports}return console.error("module not found: ",o),n}return t.cache=l,t.resolve=function(t){return t?"~"===t[0]?"/"===t[1]?t.substr(1):"/"+t.substr(1):"/"===t[0]?t:"."===t[0]?(v.test(t)?t=t.replace(v,".js"):t+=".js",f.join(f.dirname(e.filename),t)):(t.indexOf("/")>-1||t.indexOf(".")>-1)&&d._endsWith(t,".js")?f.join(s.contextPath,t):"/"+s.modulePrefix+"/"+t+".js":n},t}function r(e,t){this.id=e,this.filename=e,this.executed=!1,this.code=t,this.exports={}}function i(e){var t=s.modules,n=t.length;t.forEach(function(t){d._ajax(t,function(o,i){if(o)return void console.error(o);r.cache(t,i),--n<=0&&e&&e()})})}function a(e,t){var n=e.map(function(e){var t=s.revision[e],n=e.replace(".js","-"+t+".js");return{url:s.combo+s.comboPrefix+n,module:e}}),o=n.length;n.forEach(function(e){d._ajax(e.url,function(n,i){if(n)return void console.error(n);var a=e.module;r.cache(a,i),m.addOrUpdate(a,i,s.revision[a],s.size[a]),--o<=0&&t&&t()})})}function u(e){var t=[];if(s.modules.forEach(function(e){var n=s.revision[e],o=s.size[e],i=m.getModule(e,n,o);i?r.cache(e,i):t.push(e)}),t.length>0){var n=[],o=[],i=0;t.forEach(function(e){var t=s.size[e];o.length>0?i+t>s.maxBundleSize?(n.push(o),o=[e],i=t):(o.push(e),i+=t):t>s.maxBundleSize?n.push([e]):o=[e]}),o.length>0&&n.push(o);var u=n.length;n.forEach(function(t){a(t,function(){m.updateMetadata(),0==--u&&e&&e()})})}else e&&e()}function c(){s.modules&&s.modules.length&&s.modules.forEach(function(e){var t=l[e];t&&t.execute()})}var s={},l={};window.felisDepModules=l;var f={_splitPath:function(e){return e?e.split("/").filter(function(e){return!!e}):[]},join:function(){var e=this,t=[],n=Array.prototype.slice.call(arguments);if(0===n.length)return"";var o=n[0]&&"/"===n[0][0];n.forEach(function(n){Array.prototype.push.apply(t,e._splitPath(n))});for(var r=0,i=t.length-1;i>=0;i--){var a=t[i];"."===a?t.splice(i,1):".."===a?(t.splice(i,1),r++):r&&(t.splice(i,1),r--)}var u=t.join("/");return o&&(u="/"+u),u},dirname:function(e){if(e&&e.lastIndexOf("/")>0){var t=e.lastIndexOf("/")+1;return e.substring(0,t)}return e}},d={_assign:function(){if(arguments.length<2)return{};var e=arguments[0];return Array.prototype.slice.call(arguments,1).forEach(function(t){"object"===(void 0===t?"undefined":_typeof(t))&&Object.keys(t).forEach(function(n){e[n]=t[n]})}),e},_ajax:function(e,t){var n=new XMLHttpRequest,o=/^([\w]+:)\/\//.test(e)?RegExp.$1:window.location.protocol;n.open("GET",e,!0),n.onreadystatechange=function(){4==n.readyState&&(n.status>=200&&n.status<300||304===n.status||0===n.status&&"file:"===o?(n.onreadystatechange=null,t(null,n.responseText)):t(new Error("request error: "+n.status)))},n.send(null)},_loadJSON:function(e,t){this._ajax(e,function(e,n){if(e)return void console.error(e);t&&n&&t(JSON.parse(n))})},_endsWith:function(e,t){if(e&&"string"==typeof e&&t&&"string"==typeof t){var n=e.lastIndexOf(t);if(n>-1&&e.length-t.length===n)return!0}return!1}},h={isSupported:function(){try{if(!("localStorage"in window&&window.localStorage))return!1;localStorage.setItem("~_~",1),localStorage.removeItem("~_~")}catch(e){return!1}return!0}(),getItem:function(e){try{return localStorage.getItem(e)}catch(e){}},setItem:function(e,t){try{localStorage.setItem(e,t)}catch(e){return!1}return!0},removeItem:function(e){try{localStorage.removeItem(e)}catch(e){}}},m={metaKey:null,metadata:{},init:function(){this.metaKey=s.cachePrefix+s.cacheMetaKey;var e=h.getItem(this.metaKey);e?this.metadata=JSON.parse(e):h.setItem(this.metaKey,"{}")},getModule:function(e,t,n){var o=this.metadata[e];if(!o)return!1;var r=h.getItem(s.cachePrefix+e);return o.v==t&&o.l==n&&r},addOrUpdate:function(e,t,n,o){h.setItem(s.cachePrefix+e,t)&&(this.metadata[e]={v:n,l:o})},updateMetadata:function(){h.setItem(this.metaKey,JSON.stringify(this.metadata))}},p={moduleLoad:function(e){e.filename===s.entry&&"function"==typeof s.loaded&&s.loaded.call(null,l)}},v=/\.[^\.\/]+$/;if(r.cache=function(e,t){var n=new r(e,t);l[e]=n},r.prototype.execute=function(){if(!this.executed){new Function(["return function(exports, require, module) {\n",this.code,"}\n","//# sourceURL="+this.filename+"\n"].join(""))()(this.exports,o(this),this),this.executed=!0,p.moduleLoad(this)}},window.felisConfig){s=d._assign({debug:!1,modules:null,modulePrefix:"modules",cachePrefix:"c~",cacheMetaKey:"clist",combo:"",comboPrefix:"",comboMeta:";",maxBundleSize:2e4,contextPath:"",loaded:null},window.felisConfig),m.init(),function(e,t){if(!e)throw new Error(t)}(s.modules,"必须设置 felisConfig.modules"),s.revision={},s.size={};var y=[];s.modules.forEach(function(e){y.push(e.m),s.revision[e.m]=e.v,s.size[e.m]=e.s}),s.modules=y,s.entry=y[y.length-1],function(){s.debug?i(function(){c()}):u(function(){c()})}()}else console.error("未能找到 window.felisConfig")}(window,document);